# Instapro

MVP социальной сети для обмена фотографиями

## Первоначальная оценка

ХХХХ часов

## Фактически затраченное время

YYYY часов

# Instapro

Instapro — это социальная сеть, позволяющая пользователям регистрироваться, публиковать посты с изображениями и описаниями, просматривать ленту постов, ставить лайки и просматривать посты конкретных пользователей. Проект реализован на чистом JavaScript с использованием внешнего API для хранения данных и минималистичным интерфейсом.

## Технологии

JavaScript (ES6+): Основной язык для логики приложения.

HTML/CSS: Для рендеринга интерфейса и стилизации.

date-fns: Для форматирования дат публикации постов (например, "5 минут назад").

Fetch API: Для взаимодействия с внешним REST API.

LocalStorage: Для хранения данных пользователя (токен, логин).

Webpack: Для сборки проекта.

## Основной функционал

Регистрация и авторизация:

Пользователи могут зарегистрироваться, указав имя, логин, пароль и загрузив аватар.

Вход в систему по логину и паролю.

После успешной авторизации пользователь перенаправляется на главную ленту постов.

Просмотр постов:

Главная страница (POSTS_PAGE) отображает ленту всех постов с изображениями, описаниями, именами авторов и датами публикации.

Страница пользователя (USER_POSTS_PAGE) показывает только посты выбранного пользователя.

Клик по имени автора в посте открывает страницу его постов.

Добавление постов:

Авторизованные пользователи могут создавать посты, загружая изображение и добавляя описание.

Посты сохраняются через API и отображаются в общей ленте.

Лайки постов:

Авторизованные пользователи могут ставить и снимать лайки с постов.

Состояние лайка (поставлен/не поставлен) обновляется в реальном времени.

## Дополнительный функционал

Оптимизация UI для лайков:

При постановке/снятии лайка обновляются только иконка лайка (like-active.svg/like-not-active.svg) и текст количества лайков, без полной перерисовки страницы или компонента.

Реализовано через точечное обновление DOM-элементов (querySelector и textContent).

Отображение имён лайкнувших пользователей:

Вместо простого счётчика лайков отображается текст, например:

"Нравится: 0" (без лайков).

"Нравится: Юрий" (1 лайк).

"Нравится: Юрий, Анна" (2 лайка).

"Нравится: Юрий, Анна и ещё 1" (3+ лайков).

Реализовано с помощью функции formatLikesText в posts-page-component.js и user-posts-page-component.js.

Отправка формы по Enter:

В форме авторизации/регистрации нажатие клавиши Enter в любом поле ввода (login-input, password-input, name-input) отправляет форму, как при клике на кнопку "Войти" или "Зарегистрироваться".

Реализовано через обработчик события keydown на все поля ввода.

Автофокус на полях ввода:

В режиме входа фокус автоматически устанавливается на поле логина (#login-input).

В режиме регистрации фокус устанавливается на поле имени (#name-input).

Реализовано через вызов метода focus() после рендеринга формы.

## Исправления и улучшения

В процессе разработки были реализованы следующие исправления и улучшения:

Исправление отображения постов на странице пользователя:

Проблема: На странице USER_POSTS_PAGE отображались посты всех пользователей, а не только выбранного.

Решение:

В index.js добавлена очистка массива posts перед загрузкой постов пользователя через getUserPosts.

В user-posts-page-component.js добавлена фильтрация постов по userId (posts.filter(post => post.user.id === userId)).

Исправлена передача userId из goToPage в renderUserPostsPageComponent через объект data.userId.

Добавлены проверки на отсутствие userId с перенаправлением на POSTS_PAGE.

Удаление консольных логов:

Удалены все console.log и console.error из:

api.js (функции addPost, likePost, unlikePost).

posts-page-component.js и user-posts-page-component.js (обработка лайков).

index.js (логирование загрузки постов и добавления постов).

Заменены на пользовательские уведомления (alert) для ошибок, где это уместно.

Оптимизация навигации:

В index.js улучшена логика функции goToPage:

Очистка массива posts перед загрузкой новых данных.

Проверка data.userId для USER_POSTS_PAGE с обработкой ошибок.

Использование renderLoadingPageComponent во время загрузки данных.

Исправлена передача userId в renderApp через объект data для корректного рендеринга USER_POSTS_PAGE.

Улучшения формы авторизации:

Добавлена отправка формы по Enter в auth-page-component.js для всех полей ввода.

Реализован автофокус:

На #login-input в режиме входа.

На #name-input в режиме регистрации.

Добавлен сброс imageUrl при переключении между режимами входа и регистрации.

## Будущие улучшения

Анимации:

Добавить анимацию для кнопки лайка (увеличение при клике).

Анимировать отправку формы авторизации.

Пагинация:

Реализовать загрузку постов частями для оптимизации производительности.

Кликабельный список лайков:

Сделать текст лайков кликабельным, чтобы показывать модальное окно со списком всех лайкнувших пользователей.

Показ пароля:

Добавить кнопку для переключения видимости пароля в форме авторизации.
